---
name: Lint
# yamllint disable-line rule:truthy
on:
  push:
    branches: ["main"]

  pull_request:

  workflow_dispatch:

jobs:
  markdown:
    name: Markdown
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Lint markdown files
        run: make lint-markdown

  misspell:
    name: Spellcheck
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Run spellcheck
        run: make lint-misspell

  alex:
    name: Alex
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Check files for inappropriate language
        run: make lint-alex

  shellcheck:
    name: Shell
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Lint shell files
        run: make lint-shell

  terraform:
    name: Terraform
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Lint terraform files
        run: make lint-terraform

  yamllint:
    name: YAML
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Lint YAML files
        run: make lint-yaml

  actionlint:
    name: GitHub Actions
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Lint GitHub Action workflows
        run: make lint-actionlint

  textlint:
    name: Text files
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Lint text files
        run: make lint-text

  alloy:
    name: Alloy
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: grafana/install-alloy@v0
      - name: Lint Alloy configuration files
        run: make lint-alloy
