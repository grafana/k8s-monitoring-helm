---
cluster:
  name: alloy-integration-test

destinations:
  - name: localPrometheus
    type: prometheus
    url: http://prometheus-server.prometheus.svc:9090/api/v1/write

integrations:
  alloy:
    instances:
      - name: alloy-one
        labelSelectors:
          app.kubernetes.io/name: alloy-one
        metrics:
          scrapeInterval: 2m
          tuning:
            useDefaultAllowList: false
            excludeMetrics: ["alloy_example_metric"]
      - name: alloy-two
        labelSelectors:
          app.kubernetes.io/name: alloy-two
      - name: alloy-three
        labelSelectors:
          app.kubernetes.io/name: alloy-three
        metrics:
          scrapeInterval: 30s
          tuning:
            useDefaultAllowList: false
            includeMetrics: ["alloy_example_metric"]

alloy-metrics:
  enabled: true

alloy-singleton:
  enabled: true
  extraConfig: " "
