# Source: k8s-monitoring/templates/alloy.yaml
apiVersion: collectors.grafana.com/v1alpha1
kind: Alloy
metadata:
  name: k8smon-alloy-metrics
  namespace: default
spec:
  alloy:
    clustering:
      enabled: true
      name: alloy-metrics
  controller:
    nodeSelector:
      kubernetes.io/os: linux
    podAnnotations:
      k8s.grafana.com/logs.job: integrations/alloy
    replicas: 1
    type: statefulset
  crds:
    create: false
