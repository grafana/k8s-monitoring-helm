apiVersion: dashboard.grafana.app/v2beta1
kind: Dashboard
metadata:
  name: istio-workloads-overview
spec:
  annotations:
    - kind: AnnotationQuery
      spec:
        builtIn: true
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        query:
          group: grafana
          kind: DataQuery
          spec: {}
          version: v0
  cursorSync: 'Off'
  editable: false
  elements:
    panel-10:
      kind: Panel
      spec:
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        sum by(job, cluster, source_workload,
                        destination_workload)
                        (rate(istio_tcp_received_bytes_total{job=~"$job",cluster=~"$cluster",source_workload_namespace=~"$namespace",source_workload=~"$workload",destination_workload=~"$server_workload",
                        reporter="source"}[$__rate_interval]))
                      legendFormat: '{{source_workload}} -> {{destination_workload}}'
                    version: v0
                  refId: A
            queryOptions: {}
            transformations: []
        description: >-
          Rate of TCP request data sent from this workload to server workloads
          in the Istio system.
        id: 10
        links: []
        title: TCP request throughput
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                custom:
                  fillOpacity: 30
                  gradientMode: opacity
                  lineInterpolation: smooth
                  lineWidth: 2
                  showPoints: never
                  stacking:
                    group: A
                    mode: normal
                unit: Bps
              overrides: []
            options:
              legend:
                calcs: []
                displayMode: list
                placement: right
                showLegend: true
              tooltip:
                mode: multi
                sort: desc
          version: v10.0.0
    panel-11:
      kind: Panel
      spec:
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        sum by(job, cluster, source_workload,
                        destination_workload)
                        (rate(istio_tcp_sent_bytes_total{job=~"$job",cluster=~"$cluster",source_workload_namespace=~"$namespace",source_workload=~"$workload",destination_workload=~"$server_workload",
                        reporter="source"}[$__rate_interval]))
                      legendFormat: '{{source_workload}} <- {{destination_workload}}'
                    version: v0
                  refId: A
            queryOptions: {}
            transformations: []
        description: >-
          Rate of TCP response data received by this workload from server
          workloads in the Istio system.
        id: 11
        links: []
        title: TCP response throughput
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                custom:
                  fillOpacity: 30
                  gradientMode: opacity
                  lineInterpolation: smooth
                  lineWidth: 2
                  showPoints: never
                  stacking:
                    group: A
                    mode: normal
                unit: Bps
              overrides: []
            options:
              legend:
                calcs: []
                displayMode: list
                placement: right
                showLegend: true
              tooltip:
                mode: multi
                sort: desc
          version: v10.0.0
    panel-13:
      kind: Panel
      spec:
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        sum by(job, cluster, source_workload,
                        destination_workload)
                        (rate(istio_requests_total{job=~"$job",cluster=~"$cluster",destination_workload_namespace=~"$namespace",destination_workload=~"$workload",source_workload=~"$client_workload",
                        reporter="destination"}[$__rate_interval]))
                      legendFormat: '{{destination_workload}} <- {{source_workload}}'
                    version: v0
                  refId: A
            queryOptions: {}
            transformations: []
        description: >-
          Rate of HTTP/GRPC requests received by this workload from client
          workloads in the Istio system.
        id: 13
        links: []
        title: HTTP/GRPC requests received
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                custom:
                  fillOpacity: 30
                  gradientMode: opacity
                  lineInterpolation: smooth
                  lineWidth: 2
                  showPoints: never
                  stacking:
                    group: A
                    mode: normal
                unit: reqps
              overrides: []
            options:
              legend:
                calcs: []
                displayMode: list
                placement: right
                showLegend: true
              tooltip:
                mode: multi
                sort: desc
          version: v10.0.0
    panel-14:
      kind: Panel
      spec:
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >
                        sum by(job, cluster, source_workload,
                        destination_workload)
                        (increase(istio_request_duration_milliseconds_sum{job=~"$job",cluster=~"$cluster",destination_workload_namespace=~"$namespace",destination_workload=~"$workload",source_workload=~"$client_workload",
                        reporter="destination"}[$__rate_interval:]))

                        /

                        clamp_min(sum by(job, cluster, source_workload,
                        destination_workload)
                        (increase(istio_request_duration_milliseconds_count{job=~"$job",cluster=~"$cluster",destination_workload_namespace=~"$namespace",destination_workload=~"$workload",source_workload=~"$client_workload",
                        reporter="destination"}[$__rate_interval:])), 1)
                      interval: 1m
                      legendFormat: '{{destination_workload}} <- {{source_workload}}'
                    version: v0
                  refId: A
            queryOptions: {}
            transformations: []
        description: >-
          Average latency of HTTP/GRPC requests received by this workload from
          client workloads in the Istio system.
        id: 14
        links: []
        title: HTTP/GRPC request delay
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                custom:
                  fillOpacity: 30
                  gradientMode: opacity
                  lineInterpolation: smooth
                  lineWidth: 2
                  showPoints: never
                unit: ms
              overrides: []
            options:
              legend:
                calcs: []
                displayMode: list
                placement: right
                showLegend: true
              tooltip:
                mode: multi
                sort: desc
          version: v10.0.0
    panel-15:
      kind: Panel
      spec:
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        sum by(job, cluster, source_workload,
                        destination_workload)
                        (rate(istio_request_bytes_sum{job=~"$job",cluster=~"$cluster",destination_workload_namespace=~"$namespace",destination_workload=~"$workload",source_workload=~"$client_workload",
                        reporter="destination"}[$__rate_interval]))
                      legendFormat: '{{destination_workload}} <- {{source_workload}}'
                    version: v0
                  refId: A
            queryOptions: {}
            transformations: []
        description: >-
          Rate of HTTP/GRPC request data received by this workload from client
          workloads in the Istio system.
        id: 15
        links: []
        title: HTTP/GRPC request throughput
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                custom:
                  fillOpacity: 30
                  gradientMode: opacity
                  lineInterpolation: smooth
                  lineWidth: 2
                  showPoints: never
                  stacking:
                    group: A
                    mode: normal
                unit: Bps
              overrides: []
            options:
              legend:
                calcs: []
                displayMode: list
                placement: right
                showLegend: true
              tooltip:
                mode: multi
                sort: desc
          version: v10.0.0
    panel-16:
      kind: Panel
      spec:
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        sum by(job, cluster, source_workload,
                        destination_workload)
                        (rate(istio_response_bytes_sum{job=~"$job",cluster=~"$cluster",destination_workload_namespace=~"$namespace",destination_workload=~"$workload",source_workload=~"$client_workload",
                        reporter="destination"}[$__rate_interval]))
                      legendFormat: '{{destination_workload}} -> {{source_workload}}'
                    version: v0
                  refId: A
            queryOptions: {}
            transformations: []
        description: >-
          Rate of HTTP/GRPC response data sent from this workload to client
          workloads in the Istio system.
        id: 16
        links: []
        title: HTTP/GRPC response throughput
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                custom:
                  fillOpacity: 30
                  gradientMode: opacity
                  lineInterpolation: smooth
                  lineWidth: 2
                  showPoints: never
                  stacking:
                    group: A
                    mode: normal
                unit: Bps
              overrides: []
            options:
              legend:
                calcs: []
                displayMode: list
                placement: right
                showLegend: true
              tooltip:
                mode: multi
                sort: desc
          version: v10.0.0
    panel-17:
      kind: Panel
      spec:
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        increase(sum by(job, cluster, source_workload,
                        destination_workload)
                        (istio_requests_total{job=~"$job",cluster=~"$cluster",destination_workload_namespace=~"$namespace",destination_workload=~"$workload",source_workload=~"$client_workload",
                        reporter="destination", request_protocol="http",
                        response_code=~"[123].+"})[$__interval:])
                      interval: 1m
                      legendFormat: '{{destination_workload}} -> {{source_workload}}: (ok)'
                    version: v0
                  refId: A
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        increase(sum by(job, cluster, source_workload,
                        destination_workload)
                        (istio_requests_total{job=~"$job",cluster=~"$cluster",destination_workload_namespace=~"$namespace",destination_workload=~"$workload",source_workload=~"$client_workload",
                        reporter="destination", request_protocol="http",
                        response_code=~"[45].+"})[$__interval:])
                      interval: 1m
                      legendFormat: '{{destination_workload}} -> {{source_workload}}: (error)'
                    version: v0
                  refId: B
            queryOptions: {}
            transformations: []
        description: >-
          Overview of the types of HTTP responses sent from this workload to
          client workloads in the Istio system.
        id: 17
        links: []
        title: HTTP response overview
        vizConfig:
          group: piechart
          kind: VizConfig
          spec:
            fieldConfig:
              defaults: {}
              overrides: []
            options:
              legend:
                placement: right
                showLegend: true
              reduceOptions:
                calcs:
                  - sum
              tooltip:
                mode: multi
                sort: desc
          version: v10.0.0
    panel-18:
      kind: Panel
      spec:
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        increase(sum by(job, cluster, source_workload,
                        destination_workload)
                        (istio_requests_total{job=~"$job",cluster=~"$cluster",destination_workload_namespace=~"$namespace",destination_workload=~"$workload",source_workload=~"$client_workload",
                        reporter="destination", request_protocol="http",
                        response_code=~"1.+"})[$__interval:])
                      interval: 1m
                      legendFormat: '{{destination_workload}} -> {{source_workload}}: (1xx)'
                    version: v0
                  refId: A
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        increase(sum by(job, cluster, source_workload,
                        destination_workload)
                        (istio_requests_total{job=~"$job",cluster=~"$cluster",destination_workload_namespace=~"$namespace",destination_workload=~"$workload",source_workload=~"$client_workload",
                        reporter="destination", request_protocol="http",
                        response_code=~"2.+"})[$__interval:])
                      interval: 1m
                      legendFormat: '{{destination_workload}} -> {{source_workload}}: (2xx)'
                    version: v0
                  refId: B
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        increase(sum by(job, cluster, source_workload,
                        destination_workload)
                        (istio_requests_total{job=~"$job",cluster=~"$cluster",destination_workload_namespace=~"$namespace",destination_workload=~"$workload",source_workload=~"$client_workload",
                        reporter="destination", request_protocol="http",
                        response_code=~"3.+"})[$__interval:])
                      interval: 1m
                      legendFormat: '{{destination_workload}} -> {{source_workload}}: (3xx)'
                    version: v0
                  refId: C
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        increase(sum by(job, cluster, source_workload,
                        destination_workload)
                        (istio_requests_total{job=~"$job",cluster=~"$cluster",destination_workload_namespace=~"$namespace",destination_workload=~"$workload",source_workload=~"$client_workload",
                        reporter="destination", request_protocol="http",
                        response_code=~"4.+"})[$__interval:])
                      interval: 1m
                      legendFormat: '{{destination_workload}} -> {{source_workload}}: (4xx)'
                    version: v0
                  refId: D
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        increase(sum by(job, cluster, source_workload,
                        destination_workload)
                        (istio_requests_total{job=~"$job",cluster=~"$cluster",destination_workload_namespace=~"$namespace",destination_workload=~"$workload",source_workload=~"$client_workload",
                        reporter="destination", request_protocol="http",
                        response_code=~"5.+"})[$__interval:])
                      interval: 1m
                      legendFormat: '{{destination_workload}} -> {{source_workload}}: (5xx)'
                    version: v0
                  refId: E
            queryOptions: {}
            transformations: []
        description: >-
          The types of HTTP responses sent from this workload to client
          workloads in the Istio system.
        id: 18
        links: []
        title: HTTP responses / $__interval
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                custom:
                  fillOpacity: 30
                  gradientMode: opacity
                  lineInterpolation: smooth
                  lineWidth: 2
                  showPoints: never
                  stacking:
                    group: A
                    mode: normal
              overrides: []
            options:
              legend:
                calcs:
                  - min
                  - max
                  - mean
                displayMode: table
                showLegend: true
              tooltip:
                mode: multi
                sort: desc
          version: v10.0.0
    panel-19:
      kind: Panel
      spec:
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        increase(sum by(job, cluster, source_workload,
                        destination_workload)
                        (istio_requests_total{job=~"$job",cluster=~"$cluster",destination_workload_namespace=~"$namespace",destination_workload=~"$workload",source_workload=~"$client_workload",
                        reporter="destination",
                        grpc_response_status="0"})[$__interval:])
                      interval: 1m
                      legendFormat: '{{destination_workload}} -> {{source_workload}}: (ok)'
                    version: v0
                  refId: A
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        increase(sum by(job, cluster, source_workload,
                        destination_workload)
                        (istio_requests_total{job=~"$job",cluster=~"$cluster",destination_workload_namespace=~"$namespace",destination_workload=~"$workload",source_workload=~"$client_workload",
                        reporter="destination",
                        grpc_response_status=~"[1-9]\\d*"})[$__interval:])
                      interval: 1m
                      legendFormat: '{{destination_workload}} -> {{source_workload}}: (error)'
                    version: v0
                  refId: B
            queryOptions: {}
            transformations: []
        description: >-
          Overview of the types of GRPC responses sent from this workload to
          client workloads in the Istio system.
        id: 19
        links: []
        title: GRPC response overview
        vizConfig:
          group: piechart
          kind: VizConfig
          spec:
            fieldConfig:
              defaults: {}
              overrides: []
            options:
              legend:
                placement: right
                showLegend: true
              reduceOptions:
                calcs:
                  - sum
              tooltip:
                mode: multi
                sort: desc
          version: v10.0.0
    panel-2:
      kind: Panel
      spec:
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        sum by(job, cluster, source_workload,
                        destination_workload)
                        (rate(istio_requests_total{job=~"$job",cluster=~"$cluster",source_workload_namespace=~"$namespace",source_workload=~"$workload",destination_workload=~"$server_workload",
                        reporter="source"}[$__rate_interval]))
                      legendFormat: '{{source_workload}} -> {{destination_workload}}'
                    version: v0
                  refId: A
            queryOptions: {}
            transformations: []
        description: >-
          Rate of HTTP/GRPC requests sent from this workload to server workloads
          in the Istio system.
        id: 2
        links: []
        title: HTTP/GRPC requests sent
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                color:
                  mode: palette-classic
                custom:
                  axisBorderShow: false
                  axisCenteredZero: false
                  axisColorMode: text
                  axisLabel: ''
                  axisPlacement: auto
                  barAlignment: 0
                  barWidthFactor: 0.6
                  drawStyle: line
                  fillOpacity: 30
                  gradientMode: opacity
                  hideFrom:
                    legend: false
                    tooltip: false
                    viz: false
                  insertNulls: false
                  lineInterpolation: smooth
                  lineWidth: 2
                  pointSize: 5
                  scaleDistribution:
                    type: linear
                  showPoints: never
                  showValues: false
                  spanNulls: false
                  stacking:
                    group: A
                    mode: normal
                  thresholdsStyle:
                    mode: 'off'
                thresholds:
                  mode: absolute
                  steps:
                    - color: green
                      value: 0
                    - color: red
                      value: 80
                unit: reqps
              overrides: []
            options:
              legend:
                calcs: []
                displayMode: list
                placement: right
                showLegend: true
              tooltip:
                hideZeros: false
                mode: multi
                sort: desc
          version: 12.4.0-19938312174
    panel-20:
      kind: Panel
      spec:
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        increase(sum by(job, cluster, source_workload,
                        destination_workload)
                        (istio_requests_total{job=~"$job",cluster=~"$cluster",destination_workload_namespace=~"$namespace",destination_workload=~"$workload",source_workload=~"$client_workload",
                        reporter="destination",
                        grpc_response_status=~"[0-9]\\d*"})[$__interval:])
                      interval: 1m
                      legendFormat: >-
                        {{destination_workload}} -> {{source_workload}}:
                        {{grpc_response_status}}
                    version: v0
                  refId: A
            queryOptions: {}
            transformations: []
        description: >-
          The types of GRPC responses sent from this workload to client
          workloads in the Istio system.
        id: 20
        links: []
        title: GRPC responses / $__interval
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                custom:
                  fillOpacity: 30
                  gradientMode: opacity
                  lineInterpolation: smooth
                  lineWidth: 2
                  showPoints: never
                  stacking:
                    group: A
                    mode: normal
              overrides: []
            options:
              legend:
                calcs:
                  - min
                  - max
                  - mean
                displayMode: table
                showLegend: true
              tooltip:
                mode: multi
                sort: desc
          version: v10.0.0
    panel-21:
      kind: Panel
      spec:
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        sum by(job, cluster, source_workload,
                        destination_workload)
                        (rate(istio_tcp_received_bytes_total{job=~"$job",cluster=~"$cluster",destination_workload_namespace=~"$namespace",destination_workload=~"$workload",source_workload=~"$client_workload",
                        reporter="destination"}[$__rate_interval]))
                      legendFormat: '{{destination_workload}} <- {{source_workload}}'
                    version: v0
                  refId: A
            queryOptions: {}
            transformations: []
        description: >-
          Rate of TCP request data received by this workload from client
          workloads in the Istio system.
        id: 21
        links: []
        title: TCP request throughput
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                custom:
                  fillOpacity: 30
                  gradientMode: opacity
                  lineInterpolation: smooth
                  lineWidth: 2
                  showPoints: never
                  stacking:
                    group: A
                    mode: normal
                unit: Bps
              overrides: []
            options:
              legend:
                calcs: []
                displayMode: list
                placement: right
                showLegend: true
              tooltip:
                mode: multi
                sort: desc
          version: v10.0.0
    panel-22:
      kind: Panel
      spec:
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        sum by(job, cluster, source_workload,
                        destination_workload)
                        (rate(istio_tcp_sent_bytes_total{job=~"$job",cluster=~"$cluster",destination_workload_namespace=~"$namespace",destination_workload=~"$workload",source_workload=~"$client_workload",
                        reporter="destination"}[$__rate_interval]))
                      legendFormat: '{{destination_workload}} -> {{source_workload}}'
                    version: v0
                  refId: A
            queryOptions: {}
            transformations: []
        description: >-
          Rate of TCP response data sent from this workload to client workloads
          in the Istio system.
        id: 22
        links: []
        title: TCP response throughput
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                custom:
                  fillOpacity: 30
                  gradientMode: opacity
                  lineInterpolation: smooth
                  lineWidth: 2
                  showPoints: never
                  stacking:
                    group: A
                    mode: normal
                unit: Bps
              overrides: []
            options:
              legend:
                calcs: []
                displayMode: list
                placement: right
                showLegend: true
              tooltip:
                mode: multi
                sort: desc
          version: v10.0.0
    panel-3:
      kind: Panel
      spec:
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >
                        sum by(job, cluster, source_workload,
                        destination_workload)
                        (increase(istio_request_duration_milliseconds_sum{job=~"$job",cluster=~"$cluster",source_workload_namespace=~"$namespace",source_workload=~"$workload",destination_workload=~"$server_workload",
                        reporter="source"}[$__rate_interval:]))

                        /

                        clamp_min(sum by(job, cluster, source_workload,
                        destination_workload)
                        (increase(istio_request_duration_milliseconds_count{job=~"$job",cluster=~"$cluster",source_workload_namespace=~"$namespace",source_workload=~"$workload",destination_workload=~"$server_workload",
                        reporter="source"}[$__rate_interval:])), 1)
                      interval: 1m
                      legendFormat: '{{source_workload}} -> {{destination_workload}}'
                    version: v0
                  refId: A
            queryOptions: {}
            transformations: []
        description: >-
          Average latency of HTTP/GRPC requests sent from this workload to
          server workloads in the Istio system.
        id: 3
        links: []
        title: HTTP/GRPC request delay
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                color:
                  mode: palette-classic
                custom:
                  axisBorderShow: false
                  axisCenteredZero: false
                  axisColorMode: text
                  axisLabel: ''
                  axisPlacement: auto
                  barAlignment: 0
                  barWidthFactor: 0.6
                  drawStyle: line
                  fillOpacity: 30
                  gradientMode: opacity
                  hideFrom:
                    legend: false
                    tooltip: false
                    viz: false
                  insertNulls: false
                  lineInterpolation: smooth
                  lineWidth: 2
                  pointSize: 5
                  scaleDistribution:
                    type: linear
                  showPoints: never
                  showValues: false
                  spanNulls: false
                  stacking:
                    group: A
                    mode: none
                  thresholdsStyle:
                    mode: 'off'
                thresholds:
                  mode: absolute
                  steps:
                    - color: green
                      value: 0
                    - color: red
                      value: 80
                unit: ms
              overrides: []
            options:
              legend:
                calcs: []
                displayMode: list
                placement: right
                showLegend: true
              tooltip:
                hideZeros: false
                mode: multi
                sort: desc
          version: 12.4.0-19938312174
    panel-4:
      kind: Panel
      spec:
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        sum by(job, cluster, source_workload,
                        destination_workload)
                        (rate(istio_request_bytes_sum{job=~"$job",cluster=~"$cluster",source_workload_namespace=~"$namespace",source_workload=~"$workload",destination_workload=~"$server_workload",
                        reporter="source"}[$__rate_interval]))
                      legendFormat: '{{source_workload}} -> {{destination_workload}}'
                    version: v0
                  refId: A
            queryOptions: {}
            transformations: []
        description: >-
          Rate of HTTP/GRPC request data sent from this workload to server
          workloads in the Istio system.
        id: 4
        links: []
        title: HTTP/GRPC request throughput
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                color:
                  mode: palette-classic
                custom:
                  axisBorderShow: false
                  axisCenteredZero: false
                  axisColorMode: text
                  axisLabel: ''
                  axisPlacement: auto
                  barAlignment: 0
                  barWidthFactor: 0.6
                  drawStyle: line
                  fillOpacity: 30
                  gradientMode: opacity
                  hideFrom:
                    legend: false
                    tooltip: false
                    viz: false
                  insertNulls: false
                  lineInterpolation: smooth
                  lineWidth: 2
                  pointSize: 5
                  scaleDistribution:
                    type: linear
                  showPoints: never
                  showValues: false
                  spanNulls: false
                  stacking:
                    group: A
                    mode: normal
                  thresholdsStyle:
                    mode: 'off'
                thresholds:
                  mode: absolute
                  steps:
                    - color: green
                      value: 0
                    - color: red
                      value: 80
                unit: Bps
              overrides: []
            options:
              legend:
                calcs: []
                displayMode: list
                placement: right
                showLegend: true
              tooltip:
                hideZeros: false
                mode: multi
                sort: desc
          version: 12.4.0-19938312174
    panel-5:
      kind: Panel
      spec:
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        sum by(job, cluster, source_workload,
                        destination_workload)
                        (rate(istio_response_bytes_sum{job=~"$job",cluster=~"$cluster",source_workload_namespace=~"$namespace",source_workload=~"$workload",destination_workload=~"$server_workload",
                        reporter="source"}[$__rate_interval]))
                      legendFormat: '{{source_workload}} <- {{destination_workload}}'
                    version: v0
                  refId: A
            queryOptions: {}
            transformations: []
        description: >-
          Rate of HTTP/GRPC response data received by this workload from server
          workloads in the Istio system.
        id: 5
        links: []
        title: HTTP/GRPC response throughput
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                color:
                  mode: palette-classic
                custom:
                  axisBorderShow: false
                  axisCenteredZero: false
                  axisColorMode: text
                  axisLabel: ''
                  axisPlacement: auto
                  barAlignment: 0
                  barWidthFactor: 0.6
                  drawStyle: line
                  fillOpacity: 30
                  gradientMode: opacity
                  hideFrom:
                    legend: false
                    tooltip: false
                    viz: false
                  insertNulls: false
                  lineInterpolation: smooth
                  lineWidth: 2
                  pointSize: 5
                  scaleDistribution:
                    type: linear
                  showPoints: never
                  showValues: false
                  spanNulls: false
                  stacking:
                    group: A
                    mode: normal
                  thresholdsStyle:
                    mode: 'off'
                thresholds:
                  mode: absolute
                  steps:
                    - color: green
                      value: 0
                    - color: red
                      value: 80
                unit: Bps
              overrides: []
            options:
              legend:
                calcs: []
                displayMode: list
                placement: right
                showLegend: true
              tooltip:
                hideZeros: false
                mode: multi
                sort: desc
          version: 12.4.0-19938312174
    panel-6:
      kind: Panel
      spec:
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        increase(sum by(job, cluster, source_workload,
                        destination_workload)
                        (istio_requests_total{job=~"$job",cluster=~"$cluster",source_workload_namespace=~"$namespace",source_workload=~"$workload",destination_workload=~"$server_workload",
                        reporter="source", request_protocol="http",
                        response_code=~"[123].+"})[$__interval:])
                      interval: 1m
                      legendFormat: '{{source_workload}} <- {{destination_workload}}: (ok)'
                    version: v0
                  refId: A
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        increase(sum by(job, cluster, source_workload,
                        destination_workload)
                        (istio_requests_total{job=~"$job",cluster=~"$cluster",source_workload_namespace=~"$namespace",source_workload=~"$workload",destination_workload=~"$server_workload",
                        reporter="source", request_protocol="http",
                        response_code=~"[45].+"})[$__interval:])
                      interval: 1m
                      legendFormat: '{{source_workload}} <- {{destination_workload}}: (error)'
                    version: v0
                  refId: B
            queryOptions: {}
            transformations: []
        description: >-
          Overview of the types of HTTP responses received by this workload from
          server workloads in the Istio system.
        id: 6
        links: []
        title: HTTP response overview
        vizConfig:
          group: piechart
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                color:
                  mode: palette-classic
                custom:
                  hideFrom:
                    legend: false
                    tooltip: false
                    viz: false
              overrides: []
            options:
              legend:
                displayMode: list
                placement: right
                showLegend: true
              pieType: pie
              reduceOptions:
                calcs:
                  - sum
                fields: ''
                values: false
              sort: desc
              tooltip:
                hideZeros: false
                mode: multi
                sort: desc
          version: 12.4.0-19938312174
    panel-7:
      kind: Panel
      spec:
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        increase(sum by(job, cluster, source_workload,
                        destination_workload)
                        (istio_requests_total{job=~"$job",cluster=~"$cluster",source_workload_namespace=~"$namespace",source_workload=~"$workload",destination_workload=~"$server_workload",
                        reporter="source", request_protocol="http",
                        response_code=~"1.+"})[$__interval:])
                      interval: 1m
                      legendFormat: '{{source_workload}} <- {{destination_workload}}: (1xx)'
                    version: v0
                  refId: A
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        increase(sum by(job, cluster, source_workload,
                        destination_workload)
                        (istio_requests_total{job=~"$job",cluster=~"$cluster",source_workload_namespace=~"$namespace",source_workload=~"$workload",destination_workload=~"$server_workload",
                        reporter="source", request_protocol="http",
                        response_code=~"2.+"})[$__interval:])
                      interval: 1m
                      legendFormat: '{{source_workload}} <- {{destination_workload}}: (2xx)'
                    version: v0
                  refId: B
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        increase(sum by(job, cluster, source_workload,
                        destination_workload)
                        (istio_requests_total{job=~"$job",cluster=~"$cluster",source_workload_namespace=~"$namespace",source_workload=~"$workload",destination_workload=~"$server_workload",
                        reporter="source", request_protocol="http",
                        response_code=~"3.+"})[$__interval:])
                      interval: 1m
                      legendFormat: '{{source_workload}} <- {{destination_workload}}: (3xx)'
                    version: v0
                  refId: C
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        increase(sum by(job, cluster, source_workload,
                        destination_workload)
                        (istio_requests_total{job=~"$job",cluster=~"$cluster",source_workload_namespace=~"$namespace",source_workload=~"$workload",destination_workload=~"$server_workload",
                        reporter="source", request_protocol="http",
                        response_code=~"4.+"})[$__interval:])
                      interval: 1m
                      legendFormat: '{{source_workload}} <- {{destination_workload}}: (4xx)'
                    version: v0
                  refId: D
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        increase(sum by(job, cluster, source_workload,
                        destination_workload)
                        (istio_requests_total{job=~"$job",cluster=~"$cluster",source_workload_namespace=~"$namespace",source_workload=~"$workload",destination_workload=~"$server_workload",
                        reporter="source", request_protocol="http",
                        response_code=~"5.+"})[$__interval:])
                      interval: 1m
                      legendFormat: '{{source_workload}} <- {{destination_workload}}: (5xx)'
                    version: v0
                  refId: E
            queryOptions: {}
            transformations: []
        description: >-
          The types of HTTP responses received by this workload from server
          workloads in the Istio system.
        id: 7
        links: []
        title: HTTP responses / $__interval
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                color:
                  mode: palette-classic
                custom:
                  axisBorderShow: false
                  axisCenteredZero: false
                  axisColorMode: text
                  axisLabel: ''
                  axisPlacement: auto
                  barAlignment: 0
                  barWidthFactor: 0.6
                  drawStyle: line
                  fillOpacity: 30
                  gradientMode: opacity
                  hideFrom:
                    legend: false
                    tooltip: false
                    viz: false
                  insertNulls: false
                  lineInterpolation: smooth
                  lineWidth: 2
                  pointSize: 5
                  scaleDistribution:
                    type: linear
                  showPoints: never
                  showValues: false
                  spanNulls: false
                  stacking:
                    group: A
                    mode: normal
                  thresholdsStyle:
                    mode: 'off'
                thresholds:
                  mode: absolute
                  steps:
                    - color: green
                      value: 0
                    - color: red
                      value: 80
              overrides: []
            options:
              legend:
                calcs:
                  - min
                  - max
                  - mean
                displayMode: table
                placement: bottom
                showLegend: true
              tooltip:
                hideZeros: false
                mode: multi
                sort: desc
          version: 12.4.0-19938312174
    panel-8:
      kind: Panel
      spec:
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        increase(sum by(job, cluster, source_workload,
                        destination_workload)
                        (istio_requests_total{job=~"$job",cluster=~"$cluster",source_workload_namespace=~"$namespace",source_workload=~"$workload",destination_workload=~"$server_workload",
                        reporter="source",
                        grpc_response_status="0"})[$__interval:])
                      interval: 1m
                      legendFormat: '{{source_workload}} <- {{destination_workload}}: (ok)'
                    version: v0
                  refId: A
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        increase(sum by(job, cluster, source_workload,
                        destination_workload)
                        (istio_requests_total{job=~"$job",cluster=~"$cluster",source_workload_namespace=~"$namespace",source_workload=~"$workload",destination_workload=~"$server_workload",
                        reporter="source",
                        grpc_response_status=~"[1-9]\\d*"})[$__interval:])
                      interval: 1m
                      legendFormat: '{{source_workload}} <- {{destination_workload}}: (error)'
                    version: v0
                  refId: B
            queryOptions: {}
            transformations: []
        description: >-
          Overview of the types of GRPC responses received by this workload from
          server workloads in the Istio system.
        id: 8
        links: []
        title: GRPC response overview
        vizConfig:
          group: piechart
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                color:
                  mode: palette-classic
                custom:
                  hideFrom:
                    legend: false
                    tooltip: false
                    viz: false
              overrides: []
            options:
              legend:
                displayMode: list
                placement: right
                showLegend: true
              pieType: pie
              reduceOptions:
                calcs:
                  - sum
                fields: ''
                values: false
              sort: desc
              tooltip:
                hideZeros: false
                mode: multi
                sort: desc
          version: 12.4.0-19938312174
    panel-9:
      kind: Panel
      spec:
        data:
          kind: QueryGroup
          spec:
            queries:
              - kind: PanelQuery
                spec:
                  hidden: false
                  query:
                    datasource:
                      name: ${datasource}
                    group: prometheus
                    kind: DataQuery
                    spec:
                      expr: >-
                        increase(sum by(job, cluster, source_workload,
                        destination_workload)
                        (istio_requests_total{job=~"$job",cluster=~"$cluster",source_workload_namespace=~"$namespace",source_workload=~"$workload",destination_workload=~"$server_workload",
                        reporter="source",
                        grpc_response_status=~"[0-9]\\d*"})[$__interval:])
                      interval: 1m
                      legendFormat: >-
                        {{source_workload}} <- {{destination_workload}}:
                        {{grpc_response_status}}
                    version: v0
                  refId: A
            queryOptions: {}
            transformations: []
        description: >-
          The types of GRPC responses received by this workload from server
          workloads in the Istio system.
        id: 9
        links: []
        title: GRPC responses / $__interval
        vizConfig:
          group: timeseries
          kind: VizConfig
          spec:
            fieldConfig:
              defaults:
                color:
                  mode: palette-classic
                custom:
                  axisBorderShow: false
                  axisCenteredZero: false
                  axisColorMode: text
                  axisLabel: ''
                  axisPlacement: auto
                  barAlignment: 0
                  barWidthFactor: 0.6
                  drawStyle: line
                  fillOpacity: 30
                  gradientMode: opacity
                  hideFrom:
                    legend: false
                    tooltip: false
                    viz: false
                  insertNulls: false
                  lineInterpolation: smooth
                  lineWidth: 2
                  pointSize: 5
                  scaleDistribution:
                    type: linear
                  showPoints: never
                  showValues: false
                  spanNulls: false
                  stacking:
                    group: A
                    mode: normal
                  thresholdsStyle:
                    mode: 'off'
                thresholds:
                  mode: absolute
                  steps:
                    - color: green
                      value: 0
                    - color: red
                      value: 80
              overrides: []
            options:
              legend:
                calcs:
                  - min
                  - max
                  - mean
                displayMode: table
                placement: bottom
                showLegend: true
              tooltip:
                hideZeros: false
                mode: multi
                sort: desc
          version: 12.4.0-19938312174
  layout:
    kind: GridLayout
    spec:
      items: []
  links:
    - asDropdown: false
      icon: ''
      includeVars: false
      keepTime: true
      tags: []
      targetBlank: false
      title: Istio logs
      tooltip: ''
      type: link
      url: /d/istio-logs
    - asDropdown: false
      icon: ''
      includeVars: false
      keepTime: true
      tags: []
      targetBlank: false
      title: Istio overview
      tooltip: ''
      type: link
      url: /d/istio-overview
    - asDropdown: false
      icon: ''
      includeVars: false
      keepTime: true
      tags: []
      targetBlank: false
      title: Istio services overview
      tooltip: ''
      type: link
      url: /d/istio-services-overview
  liveNow: false
  preload: false
  tags:
    - istio-integration
  timeSettings:
    autoRefresh: 30s
    autoRefreshIntervals:
      - 5s
      - 10s
      - 30s
      - 1m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
    fiscalYearStartMonth: 0
    from: now-30m
    hideTimepicker: false
    timezone: default
    to: now
  title: Istio workloads overview
  variables:
    - kind: DatasourceVariable
      spec:
        allowCustomValue: true
        current:
          text: ''
          value: ''
        hide: dontHide
        includeAll: false
        label: Data source
        multi: false
        name: datasource
        options: []
        pluginId: prometheus
        refresh: onDashboardLoad
        regex: (?!grafanacloud-usage|grafanacloud-ml-metrics).+
        skipUrlSync: false
    - kind: QueryVariable
      spec:
        allValue: .+
        allowCustomValue: true
        current:
          text: ''
          value: ''
        hide: dontHide
        includeAll: true
        label: Job
        multi: true
        name: job
        options: []
        query:
          datasource:
            name: ${datasource}
          group: prometheus
          kind: DataQuery
          spec:
            __legacyStringValue: label_values(istiod_uptime_seconds{}, job)
          version: v0
        refresh: onTimeRangeChanged
        regex: ''
        skipUrlSync: false
        sort: alphabeticalAsc
    - kind: QueryVariable
      spec:
        allValue: .+
        allowCustomValue: true
        current:
          text: ''
          value: ''
        hide: dontHide
        includeAll: true
        label: K8s cluster
        multi: true
        name: cluster
        options: []
        query:
          datasource:
            name: ${datasource}
          group: prometheus
          kind: DataQuery
          spec:
            __legacyStringValue: label_values(istiod_uptime_seconds{job=~"$job"}, cluster)
          version: v0
        refresh: onTimeRangeChanged
        regex: ''
        skipUrlSync: false
        sort: alphabeticalAsc
    - kind: QueryVariable
      spec:
        allowCustomValue: true
        current:
          text: ''
          value: ''
        hide: dontHide
        includeAll: true
        label: Namespace
        multi: true
        name: namespace
        options: []
        query:
          datasource:
            name: ${datasource}
          group: prometheus
          kind: DataQuery
          spec:
            __legacyStringValue: >-
              query_result(sum(istio_requests_total{job=~"$job",
              cluster=~"$cluster"}) by (destination_workload_namespace,
              source_workload_namespace) or
              sum(istio_tcp_sent_bytes_total{job=~"$job", cluster=~"$cluster"})
              by (destination_workload_namespace, source_workload_namespace))
          version: v0
        refresh: onTimeRangeChanged
        regex: /(?:destination|source)_workload_namespace="([^"]*)/g
        skipUrlSync: false
        sort: alphabeticalAsc
    - kind: QueryVariable
      spec:
        allowCustomValue: true
        current:
          text: ''
          value: ''
        hide: dontHide
        includeAll: false
        label: Service
        multi: true
        name: service
        options: []
        query:
          datasource:
            name: ${datasource}
          group: prometheus
          kind: DataQuery
          spec:
            __legacyStringValue: >-
              query_result(sum(istio_requests_total{job=~"$job",
              cluster=~"$cluster", source_workload_namespace=~"$namespace"}) by
              (source_canonical_service) or
              sum(istio_requests_total{job=~"$job", cluster=~"$cluster",
              destination_workload_namespace=~"$namespace"}) by
              (destination_canonical_service) or
              sum(istio_tcp_sent_bytes_total{job=~"$job", cluster=~"$cluster",
              source_workload_namespace=~"$namespace"}) by
              (source_canonical_service) or
              sum(istio_tcp_sent_bytes_total{job=~"$job", cluster=~"$cluster",
              destination_workload_namespace=~"$namespace"}) by
              (destination_canonical_service))
          version: v0
        refresh: onTimeRangeChanged
        regex: /(?:source_canonical_service|destination_canonical_service)="([^"]*)/g
        skipUrlSync: false
        sort: alphabeticalAsc
    - kind: QueryVariable
      spec:
        allowCustomValue: true
        current:
          text: ''
          value: ''
        hide: dontHide
        includeAll: true
        label: Workload
        multi: true
        name: workload
        options: []
        query:
          datasource:
            name: ${datasource}
          group: prometheus
          kind: DataQuery
          spec:
            __legacyStringValue: >-
              query_result(sum by(source_workload)
              (istio_requests_total{job=~"$job", cluster=~"$cluster",
              source_workload_namespace=~"$namespace",
              source_canonical_service=~"$service"}) or sum
              by(destination_workload) (istio_requests_total{job=~"$job",
              cluster=~"$cluster", destination_workload_namespace=~"$namespace",
              destination_service_name=~"$service"}) or sum by(source_workload)
              (istio_tcp_sent_bytes_total{job=~"$job", cluster=~"$cluster",
              source_workload_namespace=~"$namespace",
              source_canonical_service=~"$service"}) or sum
              by(destination_workload) (istio_tcp_sent_bytes_total{job=~"$job",
              cluster=~"$cluster", destination_workload_namespace=~"$namespace",
              destination_service_name=~"$service"}))
          version: v0
        refresh: onTimeRangeChanged
        regex: /(?:source|destination)_workload="([^"]*)/g
        skipUrlSync: false
        sort: alphabeticalAsc
    - kind: QueryVariable
      spec:
        allowCustomValue: true
        current:
          text: ''
          value: ''
        hide: dontHide
        includeAll: true
        label: Client workload
        multi: true
        name: client_workload
        options: []
        query:
          datasource:
            name: ${datasource}
          group: prometheus
          kind: DataQuery
          spec:
            __legacyStringValue: >-
              query_result(sum(istio_requests_total{job=~"$job",
              cluster=~"$cluster", destination_workload=~"$workload"}) by
              (source_workload) or
              sum(istio_tcp_received_bytes_total{job=~"$job",
              cluster=~"$cluster", destination_workload=~"$workload"}) by
              (source_workload))
          version: v0
        refresh: onTimeRangeChanged
        regex: /source_workload="([^"]*)/
        skipUrlSync: false
        sort: alphabeticalAsc
    - kind: QueryVariable
      spec:
        allowCustomValue: true
        current:
          text: ''
          value: ''
        hide: dontHide
        includeAll: true
        label: Server workload
        multi: true
        name: server_workload
        options: []
        query:
          datasource:
            name: ${datasource}
          group: prometheus
          kind: DataQuery
          spec:
            __legacyStringValue: >-
              query_result(sum(istio_requests_total{job=~"$job",
              cluster=~"$cluster", source_workload=~"$workload"}) by
              (destination_workload) or
              sum(istio_tcp_received_bytes_total{job=~"$job",
              cluster=~"$cluster", source_workload=~"$workload"}) by
              (destination_workload))
          version: v0
        refresh: onTimeRangeChanged
        regex: /destination_workload="([^"]*)/
        skipUrlSync: false
        sort: alphabeticalAsc
status: {}
