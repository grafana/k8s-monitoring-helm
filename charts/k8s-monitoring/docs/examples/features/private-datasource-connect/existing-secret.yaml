---
# PDC agent configuration using an existing secret
# This example demonstrates PDC agent setup with an existing Kubernetes secret

# Required cluster name
cluster:
  name: my-cluster-name

# Configure metrics destination
destinations:
  - name: grafana-cloud-metrics
    type: prometheus
    credentials:
      url: "https://prometheus-prod-01-eu-west-0.grafana.net/api/prom/push"
      username: "12345"
      password: "your-grafana-cloud-api-key"

# Enable required collector
alloy-metrics:
  enabled: true

# Enable cluster metrics feature
clusterMetrics:
  enabled: true

private-datasource-connect:
  enabled: true
  credentials:
    # Use an existing secret instead of creating a new one
    createSecret: false
    # Name of your existing secret
    # Must contain: token, hosted-grafana-id, cluster
    existingSecret: "your-existing-secret-name"

  # Resource configuration with recommended values
  resources:
    requests:
      cpu: 100m
      memory: 512Mi
    limits:
      cpu: 200m
      memory: 1Gi
